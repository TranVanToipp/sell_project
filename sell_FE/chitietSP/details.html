<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Di Động Thông Minh</title>
    <link rel="shortcut icon" type="image/jpg" href="/WebDiDong_PTPMCN/DiThoaiThongMinh-PTPMCN/assets/img/favicon.ico"/>
    <link rel="stylesheet" href="/sell_FE/FE/Layout/css/base.css">
    <link rel="stylesheet" href="/sell_FE/FE/Layout/css/main.css">
    <link rel="stylesheet" href="/sell_FE/FE/Layout/css/grid.css">
    <link rel="stylesheet" href="/sell_FE/FE/Layout/css/responsive.css">
    <link rel="stylesheet" href="/sell_FE/font/fontawesome-free-6.1.2-web/css/all.min.css">
	
<link rel="stylesheet" href="../FE/Layout/css/chitiet.css">
<link rel="stylesheet" href="../FE/Layout/css/cart.css">
<script src = " https://code.jquery.com/jquery-3.1.1.min.js "></script>
<script src="comments_product/js/comments.js"></script>
</head>
<script src="/sell_FE/header.js"></script>
<div class="grid wide">
    <div class="chitiet-chitiet ">
		<div class="form-active-chitiet">
		<script>
			detailsProduct();
			function getQueryParamValue(paramName) {
				var urlParams = new URLSearchParams(window.location.search);
				return urlParams.get(paramName);
			}

		function detailsProduct() {
			var detailsParam = getQueryParamValue('details');
			var detailsApi = "http://localhost:8888/api/v1/product-home/details/" + detailsParam;
			fetch(detailsApi)
				.then(function(response) {
					return response.json();
				})
				.then(data => {
					var html ='';
					html += `
					<div class="header-chitiet-content">
							<h3>
								${data.title}
							</h3>
						</div> 
						<div class="chitiet-container l-12 m-12 c-12">
							<div class="chitiet-container-img-content l-4">
								<div class="chitiet-container-img">
									<div class="chitiet-container-above">
										<img src="${data.thumbnail}" alt="Điện thoại hình ảnh ở trên" class="chitiet-container-above-img">
									</div>
									<ul class="chitiet-container-below">
									<li class="chitiet-container-below-img">
										<a href="#" class="chitiet-container-link">
											<div class="chitiet-container-hinhnho">
												<img src="../assets/img/icon_hot.svg" alt="icon hot" class="chitiet-container-below-img-concon">
											</div>
											<span class = "chitiet-container-tenhinh">Điểm nổi bật</span>
										</a>
									</li>
					`;

					data.imgDesc.forEach(item => {
						html += `
							<li class="chitiet-container-below-imgimg">
								<a href="#" class="chitiet-container-link">
									<div class="chitiet-container-hinhnho">
										<img src="${item.image}" alt="Điện thoại hình ảnh ở dưới" class="chitiet-container-below-img-con">
									</div>
								</a>
							</li>
						`;
					})
					
					html += `
						<li class="chitiet-container-below-img">
								<a href="#" class="chitiet-container-link">
									<div class="chitiet-container-hinhnho">
										<img src="../assets/img/icon_camera.svg" alt="icon icon_camera" class="chitiet-container-below-img-concon">
									</div>
									<span class = "chitiet-container-tenhinh">Chụp từ camera</span>
								</a>
									</li>
								</ul>
							</div>
						</div>
						<div class="chitiet-container-embrace l-5 m-12 c-12">
							<div class="chitiet-container-price">
								<h3>Giá: </h3>
								<div class="gia-chitiet">
									<h4 class = "gia-chitiet__1">${data.price}</h4><sup class = "sub-chitiet">đ</sup>
									<h4 class = "gia-chitiet__2">${data.price}</h4><sup>đ</sup>
								</div>
							</div>
							<div class="chitiet-container-nhandat">
								<span>Nhận đặt trước</span>
							</div>
							<div class="chitiet-container-chitiet-khuyenmai">
								<h4>Khuyến Mãi</h4>
								<ul class="chitiet-container-chitiet-khuyenmai-list">
					`;
					data.discountText.forEach(item => {
						html += `
							<li class="chitiet-container-chitiet-khuyenmai-item">
								${item.discountText}
							</li>
						`;
					});
					
					html += `
						</ul>
					</div>
					<input class="chitiet-container-type-btn" type="submit" name="add_cart" value="Thêm vào giỏ hàng">
					`;

					html += `
						<div class="chitiet-buton-thanhtoan">
							<button class="chitiet-container-type-btn-tragop-phantram">
								<h4>Mua trả góp 0%</h4>
								<span>Duyệt hồ sơ trong 5 phút </span>
							</button>

							<button class="chitiet-container-type-btn-tragop-the" >
							<h4> Trả góp qua thẻ</h4>
							<span>Visa, Mastercart, JCB, Amex</span>
							</button>
						</div>
					
					</div>
				<div class="tinhtrang-content l-3 m-12 c-12">
					<div class = "header__nav-type">
						<img src="../assets/img/thongso.svg" alt="" class="header__nav-tab-img">
						<div class="header__nav-tab-vac">
							<span>Thông số kĩ thuật</span>
						</div>
					</div>
					<table class = "tinhtrang-table__cauhinh">
						<tbody>
					`;
				
				html += `
				<tr class = "tr-1" > 
					<td class = "title_charactestic">Độ phân giải</td>
					<td class = "content_charactestic">1290 x 2796 pixels</td>
				</tr>
				<tr class = "tr-0">
					<td class = "title_charactestic">Màn hình rộng</td>
					<td class = "content_charactestic">${data.config.screen}</td>
				</tr>
				<tr class = "tr-1"> 
					<td class = "title_charactestic">Độ phân giải camera sau</td>
					<td class = "content_charactestic">${data.config.frontCamera}</td>
				</tr>
				<tr class = "tr-0">
					<td class = "title_charactestic">Độ phân giải camera trước</td>
					<td class = "content_charactestic">${data.config.rearCamera}</td>
				</tr>
				<tr class = "tr-1"> 
					<td class = "title_charactestic">Bộ nhớ trong</td>
					<td class = "content_charactestic">${data.config.ram}</td>
				</tr>
				<tr class = "tr-0">
					<td class = "title_charactestic">Dung lượng pin</td>
					<td class = "content_charactestic">${data.config.pin}.</td>
				</tr>
				<tr class = "tr-0">
					<td class = "title_charactestic">Sim</td>
					<td class = "content_charactestic">${data.config.sim}</td>
				</tr>	
				`;

				html += `
					</tbody>
						</table>
						<div class= "tinhtrang-button__chitiet">
							<a href="#" class="tinhtrang-button__chitiet-link">
								Xem cấu hình chi tiết
							</a>
						</div>
						</div>
					</div>
				</div>
			</div>
				`;
					var container = document.querySelector('.form-active-chitiet');
					container.innerHTML = html;
				})
				.catch(function(err) {
					console.log(err);
				});
		}
		</script>
			
		</div>
	</div>
</div>
<script src="../footer.js"></script>
